{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["//import fetchData from './js/pixabay-api';\n//import renderData from './js/render-functions';\n\nimport axios from \"axios\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst params = {\n    key: '49331569-d75c2214014d7ff2c794993e6',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n}\n\nfunction searchRequest(searchData) {\n    params.q = searchData;\n    return axios.get('', { params });\n}\n\nfunction renderData(data) { \n    gallery.innerHTML = '';\n    const galleryCollectionTemplate = [];\n    data.forEach(item => {\n        galleryCollectionTemplate.push(\n            `<li>\n                <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n                    <img src=\"${item.previewURL}\" alt=\"${item.tags}\">\n                    <ul>\n                        <li>\n                            <p>Likes: ${item.likes}</p>\n                        </li>\n                        <li>\n                            <p>Views: ${item.views}</p>\n                        </li>\n                        <li>\n                            <p>Comments: ${item.comments}</p>\n                        </li>\n                        <li>\n                            <p>Downloads: ${item.downloads}</p>\n                        </li>\n                    </ul>\n                </a>\n            </li>`\n        );\n    });\n    gallery.insertAdjacentHTML('afterbegin', galleryCollectionTemplate.join(''));\n    //lightbox refresh\n    lightboxGallery.refresh();\n}\n\nconst searchInput = document.querySelector('input[name=\"search-text\"]');\nconst searchButton = document.querySelector('button[type=\"submit\"]');\nconst searchForm = document.querySelector('.form');\nlet gallery = document.querySelector('.gallery');\nif (!gallery) {\n        searchForm.insertAdjacentHTML('afterend', '<ul class=\"gallery\"></ul>');\n        gallery = document.querySelector('.gallery');\n}\nlet loadingMessage = document.querySelector('.loading');\nif (!loadingMessage) {\n    searchForm.insertAdjacentHTML('afterend', '<p class=\"loading visually-hidden\">Loading images, please wait...<span class=\"loader\"></span></p>');\n    loadingMessage = document.querySelector('.loading');\n}\n\n//const galleryElementTemplate = '<ul class=\"gallery\"></ul>';\n\nsearchButton.addEventListener('click', (e) => { \n    e.preventDefault();\n    const searchData = searchInput.value;\n    console.log(\"searchdata: \" + searchData);\n    if (searchData.trim() === '') {\n        alert('Please enter a search term');\n        return;\n    }\n    loadingMessage.classList.remove('visually-hidden');\n    searchRequest(searchData)\n        .then((response) => {\n            loadingMessage.classList.add('visually-hidden');\n            console.log(\"response:\");\n            console.log(response);\n            if (response.data.totalHits > 0) {\n                renderData(response.data.hits);\n            }\n            else {\n                alert('No images found');\n            }\n        })\n        .catch((error) => {\n            loadingMessage.classList.add('visually-hidden');\n            console.error('Error:', error);\n        });\n});\n\nconst lightboxOptions = {\n    captionsData: 'alt',\n    captionDelay: 250\n}\n\nconst lightboxGallery = new SimpleLightbox('.gallery a', {...lightboxOptions});"],"names":["axios","params","searchRequest","searchData","renderData","data","gallery","galleryCollectionTemplate","item","lightboxGallery","searchInput","searchButton","searchForm","loadingMessage","e","response","error","lightboxOptions","SimpleLightbox"],"mappings":"6vBAOAA,EAAM,SAAS,QAAU,2BACzB,MAAMC,EAAS,CACX,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEA,SAASC,EAAcC,EAAY,CAC/B,OAAAF,EAAO,EAAIE,EACJH,EAAM,IAAI,GAAI,CAAE,OAAAC,CAAM,CAAE,CACnC,CAEA,SAASG,EAAWC,EAAM,CACtBC,EAAQ,UAAY,GACpB,MAAMC,EAA4B,CAAE,EACpCF,EAAK,QAAQG,GAAQ,CACjBD,EAA0B,KACtB;AAAA,gDACoCC,EAAK,aAAa;AAAA,gCAClCA,EAAK,UAAU,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA,wCAG1BA,EAAK,KAAK;AAAA;AAAA;AAAA,wCAGVA,EAAK,KAAK;AAAA;AAAA;AAAA,2CAGPA,EAAK,QAAQ;AAAA;AAAA;AAAA,4CAGZA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,kBAKjD,CACT,CAAK,EACDF,EAAQ,mBAAmB,aAAcC,EAA0B,KAAK,EAAE,CAAC,EAE3EE,EAAgB,QAAS,CAC7B,CAEA,MAAMC,EAAc,SAAS,cAAc,2BAA2B,EAChEC,EAAe,SAAS,cAAc,uBAAuB,EAC7DC,EAAa,SAAS,cAAc,OAAO,EACjD,IAAIN,EAAU,SAAS,cAAc,UAAU,EAC1CA,IACGM,EAAW,mBAAmB,WAAY,2BAA2B,EACrEN,EAAU,SAAS,cAAc,UAAU,GAEnD,IAAIO,EAAiB,SAAS,cAAc,UAAU,EACjDA,IACDD,EAAW,mBAAmB,WAAY,mGAAmG,EAC7IC,EAAiB,SAAS,cAAc,UAAU,GAKtDF,EAAa,iBAAiB,QAAUG,GAAM,CAC1CA,EAAE,eAAgB,EAClB,MAAMX,EAAaO,EAAY,MAE/B,GADA,QAAQ,IAAI,eAAiBP,CAAU,EACnCA,EAAW,KAAM,IAAK,GAAI,CAC1B,MAAM,4BAA4B,EAClC,MACR,CACIU,EAAe,UAAU,OAAO,iBAAiB,EACjDX,EAAcC,CAAU,EACnB,KAAMY,GAAa,CAChBF,EAAe,UAAU,IAAI,iBAAiB,EAC9C,QAAQ,IAAI,WAAW,EACvB,QAAQ,IAAIE,CAAQ,EAChBA,EAAS,KAAK,UAAY,EAC1BX,EAAWW,EAAS,KAAK,IAAI,EAG7B,MAAM,iBAAiB,CAE9B,CAAA,EACA,MAAOC,GAAU,CACdH,EAAe,UAAU,IAAI,iBAAiB,EAC9C,QAAQ,MAAM,SAAUG,CAAK,CACzC,CAAS,CACT,CAAC,EAED,MAAMC,EAAkB,CACpB,aAAc,MACd,aAAc,GAClB,EAEMR,EAAkB,IAAIS,EAAe,aAAc,CAAC,GAAGD,CAAe,CAAC"}