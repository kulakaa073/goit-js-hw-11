{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["//import fetchData from './js/pixabay-api';\n//import renderData from './js/render-functions';\n\nimport axios from \"axios\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst params = {\n    key: '49331569-d75c2214014d7ff2c794993e6',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n}\n\nconst iziToastNoInputSettings = {\n    theme: 'dark',\n    backgroundColor: '#EF4040',\n    position: 'topRight',\n    messageColor: '#FAFAFB',\n    message: 'Please enter search terms',\n    iconUrl: '/img/error-alert.svg',\n    iconColor: 'white',\n    messageSize: '16px',\n    messageLineHeight: '24px',\n    progressBarColor: '#B51B1B'\n}\n\nconst iziToastNoImageSettings = {\n    theme: 'dark',\n    backgroundColor: '#EF4040',\n    position: 'topRight',\n    messageColor: '#FAFAFB',\n    message: 'No images found, try again',\n    iconUrl: '/img/error-alert.svg',\n    iconColor: 'white',\n    messageSize: '16px',\n    messageLineHeight: '24px',\n    progressBarColor: '#B51B1B'\n}\n\nfunction searchRequest(searchData) {\n    params.q = searchData;\n    return axios.get('', { params });\n}\n\nfunction renderData(data) {\n    gallery.innerHTML = '';\n    const galleryCollectionTemplate = [];\n    data.forEach(item => {\n        galleryCollectionTemplate.push(\n            `<li>\n                <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n                    <img src=\"${item.previewURL}\" alt=\"${item.tags}\">\n                    <ul>\n                        <li>\n                            <p>Likes: <span>${item.likes}</span></p>\n                        </li>\n                        <li>\n                            <p>Views: <span>${item.views}</span></p>\n                        </li>\n                        <li>\n                            <p>Comments: <span>${item.comments}</span></p>\n                        </li>\n                        <li>\n                            <p>Downloads: <span>${item.downloads}</span></p>\n                        </li>\n                    </ul>\n                </a>\n            </li>`\n        );\n    });\n    gallery.insertAdjacentHTML('afterbegin', galleryCollectionTemplate.join(''));\n    lightboxGallery.refresh();\n}\n\nconst searchInput = document.querySelector('input[name=\"search-text\"]');\nconst searchButton = document.querySelector('button[type=\"submit\"]');\nconst searchForm = document.querySelector('.form');\nlet gallery = document.querySelector('.gallery');\nif (!gallery) {\n    searchForm.insertAdjacentHTML('afterend', '<ul class=\"gallery\"></ul>');\n    gallery = document.querySelector('.gallery');\n}\nlet loadingMessage = document.querySelector('.loading');\nif (!loadingMessage) {\n    searchForm.insertAdjacentHTML('afterend', '<p class=\"loading visually-hidden\">Loading images, please wait...<span class=\"loader\"></span></p>');\n    loadingMessage = document.querySelector('.loading');\n}\n\n//const galleryElementTemplate = '<ul class=\"gallery\"></ul>';\n\nsearchButton.addEventListener('click', (e) => {\n    e.preventDefault();\n    const searchData = searchInput.value;\n    console.log(\"searchdata: \" + searchData);\n    if (searchData.trim() === '') {\n        iziToast.show({ ...iziToastNoInputSettings });\n        return;\n    }\n    loadingMessage.classList.remove('visually-hidden');\n    searchRequest(searchData)\n        .then((response) => {\n            loadingMessage.classList.add('visually-hidden');\n            if (response.data.totalHits > 0) {\n                renderData(response.data.hits);\n            }\n            else {\n                iziToast.show({ ...iziToastNoImageSettings });\n            }\n        })\n        .catch((error) => {\n            loadingMessage.classList.add('visually-hidden');\n            console.error('Error:', error);\n        });\n});\n\nconst lightboxOptions = {\n    captionsData: 'alt',\n    captionDelay: 250\n}\n\nconst lightboxGallery = new SimpleLightbox('.gallery a', { ...lightboxOptions });"],"names":["axios","params","iziToastNoInputSettings","iziToastNoImageSettings","searchRequest","searchData","renderData","data","gallery","galleryCollectionTemplate","item","lightboxGallery","searchInput","searchButton","searchForm","loadingMessage","e","iziToast","response","error","lightboxOptions","SimpleLightbox"],"mappings":"owBASAA,EAAM,SAAS,QAAU,2BACzB,MAAMC,EAAS,CACX,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEMC,EAA0B,CAC5B,MAAO,OACP,gBAAiB,UACjB,SAAU,WACV,aAAc,UACd,QAAS,4BACT,QAAS,uBACT,UAAW,QACX,YAAa,OACb,kBAAmB,OACnB,iBAAkB,SACtB,EAEMC,EAA0B,CAC5B,MAAO,OACP,gBAAiB,UACjB,SAAU,WACV,aAAc,UACd,QAAS,6BACT,QAAS,uBACT,UAAW,QACX,YAAa,OACb,kBAAmB,OACnB,iBAAkB,SACtB,EAEA,SAASC,EAAcC,EAAY,CAC/B,OAAAJ,EAAO,EAAII,EACJL,EAAM,IAAI,GAAI,CAAE,OAAAC,CAAM,CAAE,CACnC,CAEA,SAASK,EAAWC,EAAM,CACtBC,EAAQ,UAAY,GACpB,MAAMC,EAA4B,CAAE,EACpCF,EAAK,QAAQG,GAAQ,CACjBD,EAA0B,KACtB;AAAA,gDACoCC,EAAK,aAAa;AAAA,gCAClCA,EAAK,UAAU,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA,8CAGpBA,EAAK,KAAK;AAAA;AAAA;AAAA,8CAGVA,EAAK,KAAK;AAAA;AAAA;AAAA,iDAGPA,EAAK,QAAQ;AAAA;AAAA;AAAA,kDAGZA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,kBAKvD,CACT,CAAK,EACDF,EAAQ,mBAAmB,aAAcC,EAA0B,KAAK,EAAE,CAAC,EAC3EE,EAAgB,QAAS,CAC7B,CAEA,MAAMC,EAAc,SAAS,cAAc,2BAA2B,EAChEC,EAAe,SAAS,cAAc,uBAAuB,EAC7DC,EAAa,SAAS,cAAc,OAAO,EACjD,IAAIN,EAAU,SAAS,cAAc,UAAU,EAC1CA,IACDM,EAAW,mBAAmB,WAAY,2BAA2B,EACrEN,EAAU,SAAS,cAAc,UAAU,GAE/C,IAAIO,EAAiB,SAAS,cAAc,UAAU,EACjDA,IACDD,EAAW,mBAAmB,WAAY,mGAAmG,EAC7IC,EAAiB,SAAS,cAAc,UAAU,GAKtDF,EAAa,iBAAiB,QAAUG,GAAM,CAC1CA,EAAE,eAAgB,EAClB,MAAMX,EAAaO,EAAY,MAE/B,GADA,QAAQ,IAAI,eAAiBP,CAAU,EACnCA,EAAW,KAAM,IAAK,GAAI,CAC1BY,EAAS,KAAK,CAAE,GAAGf,EAAyB,EAC5C,MACR,CACIa,EAAe,UAAU,OAAO,iBAAiB,EACjDX,EAAcC,CAAU,EACnB,KAAMa,GAAa,CAChBH,EAAe,UAAU,IAAI,iBAAiB,EAC1CG,EAAS,KAAK,UAAY,EAC1BZ,EAAWY,EAAS,KAAK,IAAI,EAG7BD,EAAS,KAAK,CAAE,GAAGd,EAAyB,CAEnD,CAAA,EACA,MAAOgB,GAAU,CACdJ,EAAe,UAAU,IAAI,iBAAiB,EAC9C,QAAQ,MAAM,SAAUI,CAAK,CACzC,CAAS,CACT,CAAC,EAED,MAAMC,EAAkB,CACpB,aAAc,MACd,aAAc,GAClB,EAEMT,EAAkB,IAAIU,EAAe,aAAc,CAAE,GAAGD,CAAe,CAAE"}