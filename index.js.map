{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst params = {\n    key: '49331569-d75c2214014d7ff2c794993e6',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n}\n\nexport default function searchRequest(searchData) {\n    params.q = searchData;\n    return axios.get('', { params });\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nexport default function renderData(data) {\n    gallery.innerHTML = '';\n    const galleryCollectionTemplate = [];\n    data.forEach(item => {\n        galleryCollectionTemplate.push(\n            `<li>\n                <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n                    <img src=\"${item.previewURL}\" alt=\"${item.tags}\">\n                    <ul>\n                        <li>\n                            <p>Likes: <span>${item.likes}</span></p>\n                        </li>\n                        <li>\n                            <p>Views: <span>${item.views}</span></p>\n                        </li>\n                        <li>\n                            <p>Comments: <span>${item.comments}</span></p>\n                        </li>\n                        <li>\n                            <p>Downloads: <span>${item.downloads}</span></p>\n                        </li>\n                    </ul>\n                </a>\n            </li>`\n        );\n    });\n    gallery.insertAdjacentHTML('afterbegin', galleryCollectionTemplate.join(''));\n    lightboxGallery.refresh();\n}\n\nconst searchForm = document.querySelector('.form');\nlet gallery = document.querySelector('.gallery');\nif (!gallery) {\n    searchForm.insertAdjacentHTML('afterend', '<ul class=\"gallery\"></ul>');\n    gallery = document.querySelector('.gallery');\n}\n\nconst lightboxOptions = {\n    captionsData: 'alt',\n    captionDelay: 250\n}\n\nconst lightboxGallery = new SimpleLightbox('.gallery a', { ...lightboxOptions });","import fetchData from './js/pixabay-api';\nimport renderData from './js/render-functions';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst searchInput = document.querySelector('input[name=\"search-text\"]');\nconst searchButton = document.querySelector('button[type=\"submit\"]');\nconst searchForm = document.querySelector('.form');\n\nlet loadingMessage = document.querySelector('.loading');\nif (!loadingMessage) {\n    searchForm.insertAdjacentHTML('afterend', '<p class=\"loading visually-hidden\">Loading images, please wait...<span class=\"loader\"></span></p>');\n    loadingMessage = document.querySelector('.loading');\n}\n\nconst iziToastNoInputSettings = {\n    theme: 'dark',\n    backgroundColor: '#EF4040',\n    position: 'topRight',\n    messageColor: '#FAFAFB',\n    message: 'Please enter search terms',\n    iconUrl: '/img/error-alert.svg',\n    iconColor: 'white',\n    messageSize: '16px',\n    messageLineHeight: '24px',\n    progressBarColor: '#B51B1B'\n}\n\nconst iziToastNoImageSettings = {\n    theme: 'dark',\n    backgroundColor: '#EF4040',\n    position: 'topRight',\n    messageColor: '#FAFAFB',\n    message: 'No images found, try again',\n    iconUrl: '/img/error-alert.svg',\n    iconColor: 'white',\n    messageSize: '16px',\n    messageLineHeight: '24px',\n    progressBarColor: '#B51B1B'\n}\n\nsearchButton.addEventListener('click', (e) => {\n    e.preventDefault();\n    const searchData = searchInput.value;\n    if (searchData.trim() === '') {\n        iziToast.show({ ...iziToastNoInputSettings });\n        return;\n    }\n    loadingMessage.classList.remove('visually-hidden'); //deleting and adding element might be better? rethink\n    fetchData(searchData)\n        .then((response) => {\n            loadingMessage.classList.add('visually-hidden');\n            if (response.data.totalHits > 0) {\n                renderData(response.data.hits);\n            }\n            else {\n                iziToast.show({ ...iziToastNoImageSettings });\n            }\n        })\n        .catch((error) => {\n            loadingMessage.classList.add('visually-hidden');\n            console.error('Error:', error);\n        });\n});"],"names":["axios","params","searchRequest","searchData","renderData","data","gallery","galleryCollectionTemplate","item","lightboxGallery","searchForm","lightboxOptions","SimpleLightbox","searchInput","searchButton","loadingMessage","iziToastNoInputSettings","iziToastNoImageSettings","e","iziToast","fetchData","response","error"],"mappings":"owBAEAA,EAAM,SAAS,QAAU,2BACzB,MAAMC,EAAS,CACX,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEe,SAASC,EAAcC,EAAY,CAC9C,OAAAF,EAAO,EAAIE,EACJH,EAAM,IAAI,GAAI,CAAE,OAAAC,CAAM,CAAE,CACnC,CCXe,SAASG,EAAWC,EAAM,CACrCC,EAAQ,UAAY,GACpB,MAAMC,EAA4B,CAAE,EACpCF,EAAK,QAAQG,GAAQ,CACjBD,EAA0B,KACtB;AAAA,gDACoCC,EAAK,aAAa;AAAA,gCAClCA,EAAK,UAAU,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA,8CAGpBA,EAAK,KAAK;AAAA;AAAA;AAAA,8CAGVA,EAAK,KAAK;AAAA;AAAA;AAAA,iDAGPA,EAAK,QAAQ;AAAA;AAAA;AAAA,kDAGZA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,kBAKvD,CACT,CAAK,EACDF,EAAQ,mBAAmB,aAAcC,EAA0B,KAAK,EAAE,CAAC,EAC3EE,EAAgB,QAAS,CAC7B,CAEA,MAAMC,EAAa,SAAS,cAAc,OAAO,EACjD,IAAIJ,EAAU,SAAS,cAAc,UAAU,EAC1CA,IACDI,EAAW,mBAAmB,WAAY,2BAA2B,EACrEJ,EAAU,SAAS,cAAc,UAAU,GAG/C,MAAMK,EAAkB,CACpB,aAAc,MACd,aAAc,GAClB,EAEMF,EAAkB,IAAIG,EAAe,aAAc,CAAE,GAAGD,CAAe,CAAE,ECtCzEE,EAAc,SAAS,cAAc,2BAA2B,EAChEC,EAAe,SAAS,cAAc,uBAAuB,EAC7DJ,EAAa,SAAS,cAAc,OAAO,EAEjD,IAAIK,EAAiB,SAAS,cAAc,UAAU,EACjDA,IACDL,EAAW,mBAAmB,WAAY,mGAAmG,EAC7IK,EAAiB,SAAS,cAAc,UAAU,GAGtD,MAAMC,EAA0B,CAC5B,MAAO,OACP,gBAAiB,UACjB,SAAU,WACV,aAAc,UACd,QAAS,4BACT,QAAS,uBACT,UAAW,QACX,YAAa,OACb,kBAAmB,OACnB,iBAAkB,SACtB,EAEMC,EAA0B,CAC5B,MAAO,OACP,gBAAiB,UACjB,SAAU,WACV,aAAc,UACd,QAAS,6BACT,QAAS,uBACT,UAAW,QACX,YAAa,OACb,kBAAmB,OACnB,iBAAkB,SACtB,EAEAH,EAAa,iBAAiB,QAAUI,GAAM,CAC1CA,EAAE,eAAgB,EAClB,MAAMf,EAAaU,EAAY,MAC/B,GAAIV,EAAW,KAAM,IAAK,GAAI,CAC1BgB,EAAS,KAAK,CAAE,GAAGH,EAAyB,EAC5C,MACR,CACID,EAAe,UAAU,OAAO,iBAAiB,EACjDK,EAAUjB,CAAU,EACf,KAAMkB,GAAa,CAChBN,EAAe,UAAU,IAAI,iBAAiB,EAC1CM,EAAS,KAAK,UAAY,EAC1BjB,EAAWiB,EAAS,KAAK,IAAI,EAG7BF,EAAS,KAAK,CAAE,GAAGF,EAAyB,CAEnD,CAAA,EACA,MAAOK,GAAU,CACdP,EAAe,UAAU,IAAI,iBAAiB,EAC9C,QAAQ,MAAM,SAAUO,CAAK,CACzC,CAAS,CACT,CAAC"}